<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Shopping List App</title>
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
        <div id="shopping-list">
            <div class="header">
                <h1> {{header.toUpperCase()}}</h1>
                <button v-if="state === 'default'" class="btn btn-primary" @click="changeState('edit')">Add item</button>
                <button v-else class="btn btn-cancel" @click="changeState('default')">Cancel</button>
            </div>
            <div v-if="state === 'edit'" class="add-item-form">
                <input type="text" v-model="newItem" placeholder="Add an item..." @keyup.enter="saveItem(newItem)">
                <button class="btn btn-primary" @click="saveItem(newItem)">Save item</button>
            </div>
            <ul>
                <li v-for="item in items">{{item}}</li>
            </ul>
            <p v-if="items.length === 0">All items acquired!</p>
        </div>
    </body>

    <script src="https://unpkg.com/vue"></script>
    <script>
        var shoppingList = new Vue({
            el: '#shopping-list',
            data: {
                // state: 'edit',
                state: 'default',
                header: "shopping list app",
                newItem: '',
                items: [
                    "BFG 9000",
                    "Super Shotgun",
                    "Gauss Cannon.",
                    "Heavy Assault Rifle.",
                    "Chaingun",
                    "Combat Shotgun.",
                    "EMG Mark V.",
                    "Pistol"
                ],
                saveItem(item) {
                    this.items.push(item)
                    this.newItem = ''
                },
                changeState(newState) {
                    this.state = newState
                    this.newItem = ''
                }
            }
        })
    </script>

</html>